--- 
layout: post
title: Goodbye Rails, Hello Node.js
published: true
categories: 
- architecture
- evented
- javascript
- node.js
- rails
- ruby
---
<p>A few months ago, I decided to play with <a href="http://nodejs.org/">node.js</a>. The new server side JavaScript hotness and now I am hooked onto it. I use Ruby on Rails for most of my work. Though I am not a big fan of Rails, it is better than most things around and it's in Ruby which I really like.</p>
<p>Off-late most projects that I have been working on, have much less ruby and a lot more of JavaScript. My typical application consists of thin RESTful API transporting data as JSON, which is consumed by JavaScript in the browser. Can we not use JavaScript for the whole application instead? And get significant other benefits as well?</p>
<p>This is where Node.js fits in. Sitting on top of the highly performant Google V8 JavaScript engine, it gives you a bunch of libraries to write your networking code. In other words, it is JavaScript on the server side. FTW</p>
<p>As a side note, I  used to be extremely scared of the JavaScript funkiness, till I  apprenticed with some JavaScript masters. Over a period of time working on  more and more JavaScript, I have gotten pretty proficient. I still don't have the same control with JavaScript as I have  on Ruby and&nbsp; I still forget to add the semicolons to the  statements, but it's not that often now.</p>
<p>Asynchronous event driven API that leads to high scaling and lower memory footprint, we all know that (The now famous <a href="http://www.kegel.com/c10k.html">C10K problem</a>). I have used EventMachine in Ruby and it always felt like working against the grain in ruby. Blocks typically are thrown for instant execution and rarely as a callback. The lack of Fibers in Ruby 1.8.7 does not help. Turning non-evented ruby code into evented ones is mind-bending exercise till you get it.</p>
<p>On Node.js it's the most natural way of programming, it doesn't even feel like a shift in style. JavaScript programming is all about callbacks invoked later in time. There is no such thing as EM.defer and EM.run, and checking if you are in a reactor loop.</p>
<p>There is some serious innovation happening around Node.js. Some are being built over experiences of other Languages. There is no such thing as Rails for node.js (which I consider a smashing thing). Most people use <a href="https://github.com/visionmedia/express">Express</a> which is similar to Sinatra. <a href="http://jashkenas.github.com/coffee-script/">Coffee script</a> became popular because of and in the Node.js community. Now the Rails community is <a href="https://github.com/rails/rails/compare/9333ca7...23aa7da">trying to make coffee script the default </a>. RVM became popular only in recent times in the Ruby Community, We already have NVM doing the same thing for node versions. I can't forget to mention the fantastic <a href="http://socket.io/">Socket.io</a> for realtime push applications and it is truly trivial to use.</p>
<p>The mushrooming of cloud hosting for node.js is also a proof that a lot of vendors think it's interesting. Just off the top of my head, there is Joyent's <a href="https://no.de/">no.de</a>, <a href="http://www.cloudfoundry.com/">Cloudfoundry</a>, <a href="https://www.duostack.com/">Duostack</a> and <a href="http://nodester.com/">Nodester</a> all in some sort of beta stage. Although from my brief experiments, I prefer the CloudFoundry to no.de and Duostack.</p>
<p>And Rails definitely does not have a rap theme song as cool as this. <a href="http://soundcloud.com/marak/marak-the-node-js-rap">http://soundcloud.com/marak/marak-the-node-js-rap</a>. (Listen with headphones, please)</p>
