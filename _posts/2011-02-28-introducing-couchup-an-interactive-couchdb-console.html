--- 
layout: post
title: Introducing Couchup. An interactive Couchdb Console
published: true
---
<p>Recently a friend asked me how to fetch multiple documents from couch using a single request. Couch 0.90 and above provided the ability to post to couch the array of keys to return the matching documents. But he was having trouble getting curl to work correctly. I had to dig through the code to give him the actual curl request.</p>
<p>One thing that I could never figure about the CouchDB tools ecosystem, was the total lack of a simple console to interact with CouchDb. MongoDb has a <a href="http://www.mongodb.org/display/DOCS/mongo+-+The+Interactive+Shell">mongo command line client</a>. Even Cassandra has a simple <a href="http://wiki.apache.org/cassandra/CassandraCli">cassandra-cli</a>.</p>
<p>I know Futon is nice, but as a developer i need more power. And even though HTTP is ubiquitous, i need simple ways of sending requests to Couchdb, without dealing with setting the headers and json encoding the parameters.</p>
<p>So I wrote a simple, irb based Couchdb Console, we call it Couchup. It gives a simple way of accessing couchdb via command line. The source is hosted on <a href="https://github.com/sreeix/couchup">here </a>.</p>
<p>It's quite simple and based on the awesome <a href="http://github.com/couchrest/couchrest">couchrest</a> gem</p>
<p>You can install it on your machine by running</p>
<p><code> </code></p>
<p><script src="https://gist.github.com/847248.js"></script></p>
<p>&nbsp;</p>
<p>It definitely is not a replacement to <a href="http://wiki.apache.org/couchdb/Getting_started_with_Futon" target="_blank">Futon</a>, but is a simple way of interacting with couchdb. And it does some nifty things that Futon cannot do. Like, using the endkey/startkey to query views, IMHO one of the most powerful couchDB features.</p>
<p>Couchup can do a lot more, and i am using some of my 20% time to make those changes. The documenation will be kept up to date on the <a href="https://github.com/sreeix/couchup/blob/master/Readme.markdown">github pages</a>.</p>
<p>One design choice I had to make about couchup was the choice of basing it on irb, which means that it has to follow ruby syntax. This can be extremly powerful for people who are familier with ruby&nbsp; and easily write scripts based on it. The flip side though is that it has to follow the ruby syntax which leads to some verbosity in the commands.</p>
<p>eg. <em>&nbsp;</em></p>
<p><span style="font-size: medium;"><em>&gt;&gt; create :database, :foo</em></span></p>
<p>is the correct way of creating databases, instead of conventional(from mysql client)</p>
<p><span style="font-size: medium;"><em>&gt;&gt; create database foo</em></span></p>
<p>There is a bunch of stuff that needs to be done on couchup and it is rough not just on the edges but also in the core. But i hope to finetune it to something that could be a useful tool in you couchdb toolbox.</p>
<p>And yeah, any feedback on what could be done better would be great. Feel free to send me an email <a href="mailto:sreeix@gmail.com">sreeix@gmail.com</a>.</p>
